# ============================================================
# Mean Reversion Scoring Engine Configuration
# ============================================================

engine:
  allow_overlapping_events: false
  freeze_mean_on_event: true
  freeze_volatility_on_event: true
  max_active_events: 1

data:
  price_field: close
  returns_mode: log        # log | simple | none
  min_bars_required: 100

mean_estimator:
  type: rolling_sma
  params:
    window: 50

volatility_estimator:
  type: ewma
  params:
    window: 30
    min_volatility: 0.0005
    volatility_unit: returns   # returns | price

deviation_detector:
  type: zscore
  params:
    threshold: 1.75
    min_absolute_move: 0.002

reversion_criteria:
  type: soft_band
  params:
    z_tolerance: 0.4

failure_criteria:
  type: composite
  params:
    max_duration: 40
    max_zscore: 3.5

scoring:
  by_direction: true
  by_volatility_bucket: true
  volatility_buckets: 5
  record_empty_scores: false

diagnostics:
  enabled: true
  record_event_paths: true
  record_max_excursion: true
  record_time_to_resolution: true
